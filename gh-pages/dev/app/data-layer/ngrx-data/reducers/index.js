"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var reselect_1 = require("reselect");
var fromRouter = require("@ngrx/router-store");
var env_config_1 = require("../../../shared-utils/app-env/env.config");
var compose_1 = require("@ngrx/core/compose");
var ngrx_store_freeze_1 = require("ngrx-store-freeze");
var store_1 = require("@ngrx/store");
var fromErrors = require("./error/error.reducer");
var fromPortal = require("./portal/portal.reducer");
var fromGarment = require("./garment/garment.reducer");
var reducers = {
    errors: fromErrors.reducer,
    portals: fromPortal.reducer,
    garments: fromGarment.reducer,
    router: fromRouter.routerReducer
};
var developmentReducer = compose_1.compose(ngrx_store_freeze_1.storeFreeze, store_1.combineReducers)(reducers);
var productionReducer = store_1.combineReducers(reducers);
function reducer(state, action) {
    if (env_config_1.Config.ENV === 'PROD') {
        return productionReducer(state, action);
    }
    else {
        return developmentReducer(state, action);
    }
}
exports.reducer = reducer;
exports.getErrorState = function (state) { return state.errors; };
exports.getErrorIds = reselect_1.createSelector(exports.getErrorState, fromErrors.getIds);
exports.getErrorEntities = reselect_1.createSelector(exports.getErrorState, fromErrors.getEntities);
exports.getGarmentsState = function (state) { return state.garments; };
exports.getGarmentIds = reselect_1.createSelector(exports.getGarmentsState, fromGarment.getIds);
exports.getCurrentCollectionId = reselect_1.createSelector(exports.getGarmentsState, fromGarment.getCurrentCollectionId);
exports.getGarmentEntities = reselect_1.createSelector(exports.getGarmentsState, fromGarment.getEntities);
exports.getCurrentGarmentCollection = reselect_1.createSelector(exports.getGarmentsState, fromGarment.getCurrentGarmentCollection);
exports.getCurrentSubSet = reselect_1.createSelector(exports.getGarmentsState, fromGarment.getCurrentSubSet);
exports.getPortalState = function (state) { return state.portals; };
exports.getGarmentAddLock = reselect_1.createSelector(exports.getPortalState, fromPortal.getGarmentAddLock);
exports.getRevealAddGarmentRow = reselect_1.createSelector(exports.getPortalState, fromPortal.getRevealAddGarmentRow);
exports.getViewablePerPage = reselect_1.createSelector(exports.getPortalState, fromPortal.getViewablePerPage);
exports.getCurrentPage = reselect_1.createSelector(exports.getPortalState, fromPortal.getCurrentPage);
exports.getSortType = reselect_1.createSelector(exports.getPortalState, fromPortal.getSortType);
exports.getSortBase = reselect_1.createSelector(exports.getPortalState, fromPortal.getSortBase);
exports.getSortState = reselect_1.createSelector(exports.getPortalState, fromPortal.getSortState);

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9kYXRhLWxheWVyL25ncngtZGF0YS9yZWR1Y2Vycy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFDQUEwQztBQUUxQywrQ0FBaUQ7QUFDakQsdUVBQWtFO0FBVWxFLDhDQUE2QztBQU83Qyx1REFBZ0Q7QUFVaEQscUNBQThDO0FBUzlDLGtEQUFvRDtBQUNwRCxvREFBc0Q7QUFDdEQsdURBQXlEO0FBc0J6RCxJQUFNLFFBQVEsR0FBRztJQUNmLE1BQU0sRUFBRSxVQUFVLENBQUMsT0FBTztJQUMxQixPQUFPLEVBQUUsVUFBVSxDQUFDLE9BQU87SUFDM0IsUUFBUSxFQUFFLFdBQVcsQ0FBQyxPQUFPO0lBQzdCLE1BQU0sRUFBRSxVQUFVLENBQUMsYUFBYTtDQUNqQyxDQUFDO0FBRUYsSUFBTSxrQkFBa0IsR0FBeUIsaUJBQU8sQ0FBQywrQkFBVyxFQUFFLHVCQUFlLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqRyxJQUFNLGlCQUFpQixHQUF5Qix1QkFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBRTFFLGlCQUF3QixLQUFVLEVBQUUsTUFBVztJQUM3QyxFQUFFLENBQUMsQ0FBQyxtQkFBTSxDQUFDLEdBQUcsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sTUFBTSxDQUFDLGtCQUFrQixDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMzQyxDQUFDO0FBQ0gsQ0FBQztBQU5ELDBCQU1DO0FBU1ksUUFBQSxhQUFhLEdBQUcsVUFBQyxLQUFZLElBQUssT0FBQSxLQUFLLENBQUMsTUFBTSxFQUFaLENBQVksQ0FBQztBQUUvQyxRQUFBLFdBQVcsR0FBRyx5QkFBYyxDQUFDLHFCQUFhLEVBQUUsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQy9ELFFBQUEsZ0JBQWdCLEdBQUkseUJBQWMsQ0FBQyxxQkFBYSxFQUFFLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUkxRSxRQUFBLGdCQUFnQixHQUFHLFVBQUMsS0FBWSxJQUFLLE9BQUEsS0FBSyxDQUFDLFFBQVEsRUFBZCxDQUFjLENBQUM7QUFFcEQsUUFBQSxhQUFhLEdBQUcseUJBQWMsQ0FBQyx3QkFBZ0IsRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFckUsUUFBQSxzQkFBc0IsR0FBRyx5QkFBYyxDQUFDLHdCQUFnQixFQUFFLFdBQVcsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBRTlGLFFBQUEsa0JBQWtCLEdBQUkseUJBQWMsQ0FBQyx3QkFBZ0IsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFaEYsUUFBQSwyQkFBMkIsR0FBSSx5QkFBYyxDQUFDLHdCQUFnQixFQUFFLFdBQVcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBRXpHLFFBQUEsZ0JBQWdCLEdBQUkseUJBQWMsQ0FBQyx3QkFBZ0IsRUFBRSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQVVuRixRQUFBLGNBQWMsR0FBRyxVQUFDLEtBQVksSUFBSyxPQUFBLEtBQUssQ0FBQyxPQUFPLEVBQWIsQ0FBYSxDQUFDO0FBR2pELFFBQUEsaUJBQWlCLEdBQUkseUJBQWMsQ0FBQyxzQkFBYyxFQUFFLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBRWxGLFFBQUEsc0JBQXNCLEdBQUkseUJBQWMsQ0FBQyxzQkFBYyxFQUFFLFVBQVUsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBRTVGLFFBQUEsa0JBQWtCLEdBQUcseUJBQWMsQ0FBQyxzQkFBYyxFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBRW5GLFFBQUEsY0FBYyxHQUFHLHlCQUFjLENBQUMsc0JBQWMsRUFBRSxVQUFVLENBQUMsY0FBYyxDQUFDLENBQUM7QUFFM0UsUUFBQSxXQUFXLEdBQUcseUJBQWMsQ0FBQyxzQkFBYyxFQUFFLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUVyRSxRQUFBLFdBQVcsR0FBRyx5QkFBYyxDQUFDLHNCQUFjLEVBQUUsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXJFLFFBQUEsWUFBWSxHQUFHLHlCQUFjLENBQUMsc0JBQWMsRUFBRSxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMiLCJmaWxlIjoiYXBwL2RhdGEtbGF5ZXIvbmdyeC1kYXRhL3JlZHVjZXJzL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5pbXBvcnQgeyBBY3Rpb25SZWR1Y2VyIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0ICogYXMgZnJvbVJvdXRlciBmcm9tICdAbmdyeC9yb3V0ZXItc3RvcmUnO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkLXV0aWxzL2FwcC1lbnYvZW52LmNvbmZpZyc7XG5cbi8qKlxuICogVGhlIGNvbXBvc2UgZnVuY3Rpb24gaXMgb25lIG9mIG91ciBtb3N0IGhhbmR5IHRvb2xzLiBJbiBiYXNpYyB0ZXJtcywgeW91IGdpdmVcbiAqIGl0IGFueSBudW1iZXIgb2YgZnVuY3Rpb25zIGFuZCBpdCByZXR1cm5zIGEgZnVuY3Rpb24uIFRoaXMgbmV3IGZ1bmN0aW9uXG4gKiB0YWtlcyBhIHZhbHVlIGFuZCBjaGFpbnMgaXQgdGhyb3VnaCBldmVyeSBjb21wb3NlZCBmdW5jdGlvbiwgcmV0dXJuaW5nXG4gKiB0aGUgb3V0cHV0LlxuICpcbiAqIE1vcmU6IGh0dHBzOi8vZHJib29sZWFuLmdpdGJvb2tzLmlvL21vc3RseS1hZGVxdWF0ZS1ndWlkZS9jb250ZW50L2NoNS5odG1sXG4gKi9cbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tICdAbmdyeC9jb3JlL2NvbXBvc2UnO1xuXG4vKipcbiAqIHN0b3JlRnJlZXplIHByZXZlbnRzIHN0YXRlIGZyb20gYmVpbmcgbXV0YXRlZC4gV2hlbiBtdXRhdGlvbiBvY2N1cnMsIGFuXG4gKiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uIFRoaXMgaXMgdXNlZnVsIGR1cmluZyBkZXZlbG9wbWVudCBtb2RlIHRvXG4gKiBlbnN1cmUgdGhhdCBub25lIG9mIHRoZSByZWR1Y2VycyBhY2NpZGVudGFsbHkgbXV0YXRlcyB0aGUgc3RhdGUuXG4gKi9cbmltcG9ydCB7IHN0b3JlRnJlZXplIH0gZnJvbSAnbmdyeC1zdG9yZS1mcmVlemUnO1xuXG4vKipcbiAqIGNvbWJpbmVSZWR1Y2VycyBpcyBhbm90aGVyIHVzZWZ1bCBtZXRhcmVkdWNlciB0aGF0IHRha2VzIGEgbWFwIG9mIHJlZHVjZXJcbiAqIGZ1bmN0aW9ucyBhbmQgY3JlYXRlcyBhIG5ldyByZWR1Y2VyIHRoYXQgZ2F0aGVycyB0aGUgdmFsdWVzXG4gKiBvZiBlYWNoIHJlZHVjZXIgYW5kIHN0b3JlcyB0aGVtIHVzaW5nIHRoZSByZWR1Y2VyJ3Mga2V5LiBUaGluayBvZiBpdFxuICogYWxtb3N0IGxpa2UgYSBkYXRhYmFzZSwgd2hlcmUgZXZlcnkgcmVkdWNlciBpcyBhIHRhYmxlIGluIHRoZSBkYi5cbiAqXG4gKiBNb3JlOiBodHRwczovL2VnZ2hlYWQuaW8vbGVzc29ucy9qYXZhc2NyaXB0LXJlZHV4LWltcGxlbWVudGluZy1jb21iaW5lcmVkdWNlcnMtZnJvbS1zY3JhdGNoXG4gKi9cbmltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ0BuZ3J4L3N0b3JlJztcblxuXG4vKipcbiAqIEV2ZXJ5IHJlZHVjZXIgbW9kdWxlJ3MgZGVmYXVsdCBleHBvcnQgaXMgdGhlIHJlZHVjZXIgZnVuY3Rpb24gaXRzZWxmLiBJblxuICogYWRkaXRpb24sIGVhY2ggbW9kdWxlIHNob3VsZCBleHBvcnQgYSB0eXBlIG9yIGludGVyZmFjZSB0aGF0IGRlc2NyaWJlc1xuICogdGhlIHN0YXRlIG9mIHRoZSByZWR1Y2VyIHBsdXMgYW55IHNlbGVjdG9yIGZ1bmN0aW9ucy4gVGhlIGAqIGFzYFxuICogbm90YXRpb24gcGFja2FnZXMgdXAgYWxsIG9mIHRoZSBleHBvcnRzIGludG8gYSBzaW5nbGUgb2JqZWN0LlxuICovXG5pbXBvcnQgKiBhcyBmcm9tRXJyb3JzIGZyb20gJy4vZXJyb3IvZXJyb3IucmVkdWNlcic7XG5pbXBvcnQgKiBhcyBmcm9tUG9ydGFsIGZyb20gJy4vcG9ydGFsL3BvcnRhbC5yZWR1Y2VyJztcbmltcG9ydCAqIGFzIGZyb21HYXJtZW50IGZyb20gJy4vZ2FybWVudC9nYXJtZW50LnJlZHVjZXInO1xuXG5cbi8qKlxuICogQXMgbWVudGlvbmVkLCB3ZSB0cmVhdCBlYWNoIHJlZHVjZXIgbGlrZSBhIHRhYmxlIGluIGEgZGF0YWJhc2UuIFRoaXMgbWVhbnNcbiAqIG91ciB0b3AgbGV2ZWwgc3RhdGUgaW50ZXJmYWNlIGlzIGp1c3QgYSBtYXAgb2Yga2V5cyB0byBpbm5lciBzdGF0ZSB0eXBlcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0ZSB7XG4gIGVycm9yczogZnJvbUVycm9ycy5TdGF0ZTtcbiAgcG9ydGFsczogZnJvbVBvcnRhbC5TdGF0ZTtcbiAgZ2FybWVudHM6IGZyb21HYXJtZW50LlN0YXRlO1xuICByb3V0ZXI6IGZyb21Sb3V0ZXIuUm91dGVyU3RhdGU7XG59XG5cblxuLyoqXG4gKiBCZWNhdXNlIG1ldGFyZWR1Y2VycyB0YWtlIGEgcmVkdWNlciBmdW5jdGlvbiBhbmQgcmV0dXJuIGEgbmV3IHJlZHVjZXIsXG4gKiB3ZSBjYW4gdXNlIG91ciBjb21wb3NlIGhlbHBlciB0byBjaGFpbiB0aGVtIHRvZ2V0aGVyLiBIZXJlIHdlIGFyZVxuICogdXNpbmcgY29tYmluZVJlZHVjZXJzIHRvIG1ha2Ugb3VyIHRvcCBsZXZlbCByZWR1Y2VyLCBhbmQgdGhlblxuICogd3JhcHBpbmcgdGhhdCBpbiBzdG9yZUxvZ2dlci4gUmVtZW1iZXIgdGhhdCBjb21wb3NlIGFwcGxpZXNcbiAqIHRoZSByZXN1bHQgZnJvbSByaWdodCB0byBsZWZ0LlxuICovXG5jb25zdCByZWR1Y2VycyA9IHtcbiAgZXJyb3JzOiBmcm9tRXJyb3JzLnJlZHVjZXIsXG4gIHBvcnRhbHM6IGZyb21Qb3J0YWwucmVkdWNlcixcbiAgZ2FybWVudHM6IGZyb21HYXJtZW50LnJlZHVjZXIsXG4gIHJvdXRlcjogZnJvbVJvdXRlci5yb3V0ZXJSZWR1Y2VyXG59O1xuXG5jb25zdCBkZXZlbG9wbWVudFJlZHVjZXI6IEFjdGlvblJlZHVjZXI8U3RhdGU+ID0gY29tcG9zZShzdG9yZUZyZWV6ZSwgY29tYmluZVJlZHVjZXJzKShyZWR1Y2Vycyk7XG5jb25zdCBwcm9kdWN0aW9uUmVkdWNlcjogQWN0aW9uUmVkdWNlcjxTdGF0ZT4gPSBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZTogYW55LCBhY3Rpb246IGFueSkge1xuICBpZiAoQ29uZmlnLkVOViA9PT0gJ1BST0QnKSB7XG4gICAgcmV0dXJuIHByb2R1Y3Rpb25SZWR1Y2VyKHN0YXRlLCBhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkZXZlbG9wbWVudFJlZHVjZXIoc3RhdGUsIGFjdGlvbik7XG4gIH1cbn1cblxuXG5cblxuLyoqXG4gKiBKdXN0IGxpa2Ugd2l0aCB0aGUgYm9va3Mgc2VsZWN0b3JzLCB3ZSBhbHNvIGhhdmUgdG8gY29tcG9zZSB0aGUgc2VhcmNoXG4gKiByZWR1Y2VyJ3MgYW5kIGNvbGxlY3Rpb24gcmVkdWNlcidzIHNlbGVjdG9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEVycm9yU3RhdGUgPSAoc3RhdGU6IFN0YXRlKSA9PiBzdGF0ZS5lcnJvcnM7XG5cbmV4cG9ydCBjb25zdCBnZXRFcnJvcklkcyA9IGNyZWF0ZVNlbGVjdG9yKGdldEVycm9yU3RhdGUsIGZyb21FcnJvcnMuZ2V0SWRzKTtcbmV4cG9ydCBjb25zdCBnZXRFcnJvckVudGl0aWVzICA9IGNyZWF0ZVNlbGVjdG9yKGdldEVycm9yU3RhdGUsIGZyb21FcnJvcnMuZ2V0RW50aXRpZXMpO1xuXG5cblxuZXhwb3J0IGNvbnN0IGdldEdhcm1lbnRzU3RhdGUgPSAoc3RhdGU6IFN0YXRlKSA9PiBzdGF0ZS5nYXJtZW50cztcblxuZXhwb3J0IGNvbnN0IGdldEdhcm1lbnRJZHMgPSBjcmVhdGVTZWxlY3RvcihnZXRHYXJtZW50c1N0YXRlLCBmcm9tR2FybWVudC5nZXRJZHMpO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudENvbGxlY3Rpb25JZCA9IGNyZWF0ZVNlbGVjdG9yKGdldEdhcm1lbnRzU3RhdGUsIGZyb21HYXJtZW50LmdldEN1cnJlbnRDb2xsZWN0aW9uSWQpO1xuXG5leHBvcnQgY29uc3QgZ2V0R2FybWVudEVudGl0aWVzICA9IGNyZWF0ZVNlbGVjdG9yKGdldEdhcm1lbnRzU3RhdGUsIGZyb21HYXJtZW50LmdldEVudGl0aWVzKTtcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRHYXJtZW50Q29sbGVjdGlvbiAgPSBjcmVhdGVTZWxlY3RvcihnZXRHYXJtZW50c1N0YXRlLCBmcm9tR2FybWVudC5nZXRDdXJyZW50R2FybWVudENvbGxlY3Rpb24pO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFN1YlNldCA9ICBjcmVhdGVTZWxlY3RvcihnZXRHYXJtZW50c1N0YXRlLCBmcm9tR2FybWVudC5nZXRDdXJyZW50U3ViU2V0KTtcblxuXG5cblxuXG5cbi8qKlxuICogcG9ydGFsIFJlZHVjZXJzXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRQb3J0YWxTdGF0ZSA9IChzdGF0ZTogU3RhdGUpID0+IHN0YXRlLnBvcnRhbHM7XG5cblxuZXhwb3J0IGNvbnN0IGdldEdhcm1lbnRBZGRMb2NrID0gIGNyZWF0ZVNlbGVjdG9yKGdldFBvcnRhbFN0YXRlLCBmcm9tUG9ydGFsLmdldEdhcm1lbnRBZGRMb2NrKTtcblxuZXhwb3J0IGNvbnN0IGdldFJldmVhbEFkZEdhcm1lbnRSb3cgPSAgY3JlYXRlU2VsZWN0b3IoZ2V0UG9ydGFsU3RhdGUsIGZyb21Qb3J0YWwuZ2V0UmV2ZWFsQWRkR2FybWVudFJvdyk7XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3YWJsZVBlclBhZ2UgPSBjcmVhdGVTZWxlY3RvcihnZXRQb3J0YWxTdGF0ZSwgZnJvbVBvcnRhbC5nZXRWaWV3YWJsZVBlclBhZ2UpO1xuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFBhZ2UgPSBjcmVhdGVTZWxlY3RvcihnZXRQb3J0YWxTdGF0ZSwgZnJvbVBvcnRhbC5nZXRDdXJyZW50UGFnZSk7XG5cbmV4cG9ydCBjb25zdCBnZXRTb3J0VHlwZSA9IGNyZWF0ZVNlbGVjdG9yKGdldFBvcnRhbFN0YXRlLCBmcm9tUG9ydGFsLmdldFNvcnRUeXBlKTtcblxuZXhwb3J0IGNvbnN0IGdldFNvcnRCYXNlID0gY3JlYXRlU2VsZWN0b3IoZ2V0UG9ydGFsU3RhdGUsIGZyb21Qb3J0YWwuZ2V0U29ydEJhc2UpO1xuXG5leHBvcnQgY29uc3QgZ2V0U29ydFN0YXRlID0gY3JlYXRlU2VsZWN0b3IoZ2V0UG9ydGFsU3RhdGUsIGZyb21Qb3J0YWwuZ2V0U29ydFN0YXRlKTtcblxuXG5cbiJdfQ==
